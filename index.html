<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Magnus Platform App Registration, Withdrawal And Earning Link</title>
<style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 2em;
      background-image: url('What1.jpeg');
      /**background: linear-gradient(to bottom right, #f0f0f0, #dce0dd);**/
    }
    img {
      /**border-radius: 50%;**/
      width: 120px;
      height: 120px;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 10px;
      color: white;
    }
    p {
      font-size: 16px;
      margin-bottom: 30px;
      color: white;
      background-color: #075e54;
      border-radius: 10px;

    }
    .whatsapp-button {
      background: white;
      border: none;
      padding: 15px 30px;
      font-size: 18px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: background 0.3s;
    }
    .whatsapp-button:hover {
      background: #e0ffe0;
    }
    .linktree {
      margin-top: 40px;
      background: white;
      padding: 15px;
      border-radius: 50px;
      display: inline-block;
      font-weight: bold;
    }
  
/* ---- Added: Fit-to-screen and non-cropping video rules ---- */
html, body { margin: 0; height: 100svh; overflow: hidden; }
.video-container { margin-top: 12px; width: 100%; display: flex; justify-content: center; padding: 0 8px; }
.video-container video { width: 100%; height: 100%; max-height: 100%; object-fit: contain !important; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.25); }

/* Popup overlay */
#popup-overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;z-index:99999;}
#popup-box{background:#fff;padding:20px 18px;border-radius:12px;max-width:340px;width:88%;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.25);}
#popup-box h2{margin:0 0 8px 0;font-size:18px;}
#popup-box p{margin:0 0 14px 0;font-size:14px;color:#333;background:transparent;}
#popup-open{display:inline-block;border:0;border-radius:10px;padding:10px 18px;background:#075e54;color:#fff;font-weight:bold;cursor:pointer;}
</style>
</head>
<body><div id="popup-overlay"><div id="popup-box"><h2>Click “Open in browser” to get started</h2><p>Tap the button to continue in your default browser.</p><button id="popup-open">OPEN</button></div></div>
<img alt="Logo" src="W1.png"/> <!-- Replace with your image URL -->
<h1>VERIFIED REGISTRATION LINK</h1>
<p>CLICK THE WHATSAPP BUTTON BELOW TO GET STARTED<br/>OR CHAT <b id="phone-number"></b> ON WHATSAPP IF THE LINK ISN'T WORKING.</p>
<a href="#" id="whatsapp-link" target="_blank">
<button class="whatsapp-button">WHATSAPP</button>
</a>
<div class="video-container">
<video autoplay="" controls="" id="promo-video" playsinline="">
<source src="How_To_Register_On_Magnus_Skills_Mart_Website_link_magnusskillsmartcom.mp4" type="video/mp4"/>
      Your browser does not support the video tag.
    </video>
</div>
<!--<div class="linktree">
    ⭐ Join EtherealWebsite.Com on Linktree
  </div>-->
<script>
    const rawNumbers = [
      "08157823869",
      "07044435672"
    ];

    const message = encodeURIComponent("Hello, I am interested in earning money online. Please, is the platform real or a scam?");

    function normalize(number) {
      return number.replace(/\D/g, '').replace(/^0/, '234');
    }

    function getRandomIndex() {
      const visitorId = Math.floor(Math.random() * 1000000); // simulate unique visitor/session ID
      const timeSlot = Math.floor(Date.now() / (3 * 60 * 1000)); // every 3 minutes
      const seed = visitorId + timeSlot;
      const rng = mulberry32(seed);
      return Math.floor(rng() * rawNumbers.length);
    }

    // Mulberry32 PRNG (pseudo-random number generator)
    function mulberry32(a) {
      return function () {
        let t = a += 0x6D2B79F5;
        t = Math.imul(t ^ (t >>> 15), t | 1);
        t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
        return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
      }
    }

    function updateWhatsAppLink() {
      const index = getRandomIndex();
      const raw = rawNumbers[index];
      const clean = normalize(raw);
      document.getElementById("whatsapp-link").href = `https://wa.me/${clean}?text=${message}`;
      document.getElementById("phone-number").textContent = raw;
    }

    updateWhatsAppLink();
  </script>
<!-- Added: Immediate autoplay with sound on page visit -->
<script>
(function(){
  var v = document.getElementById('promo-video');
  if (!v) return;
  function tryPlay(){
    try{
      v.muted = false;
      var p = v.play();
      if (p && p.catch) p.catch(function(_){}});
    }catch(e){}
  }
  // Try immediately
  tryPlay();
  // Retry on events to ensure it runs even if DOM loads slowly
  document.addEventListener('DOMContentLoaded', tryPlay);
  window.addEventListener('load', tryPlay);
  setTimeout(tryPlay, 200);
})();
</script>
<!-- Added: Dynamic video sizing to avoid scroll and cropping -->
<script>
(function(){
  function sizeVideo(){
    var vc = document.querySelector('.video-container');
    var v = document.getElementById('promo-video');
    if(!vc || !v) return;
    var rect = vc.getBoundingClientRect();
    var available = window.innerHeight - rect.top - 8; // small bottom padding
    if (available > 0) v.style.height = available + 'px';
  }
  window.addEventListener('load', sizeVideo);
  window.addEventListener('resize', sizeVideo);
  window.addEventListener('orientationchange', sizeVideo);
  setTimeout(sizeVideo, 300);
})();
</script>
<script>
(function(){
  var KEY='popup_opened_external';
  // If the user has already opened externally before, don't show
  var suppress = false;
  try{ suppress = localStorage.getItem(KEY)==='1'; }catch(e){}

  function showPopup(){
    var ov = document.getElementById('popup-overlay');
    if (ov) ov.style.display='flex';
  }

  function openExternal(url){
    // Best-effort: try Android Chrome intent / scheme first, then fallback
    var scheme = url.startsWith('https') ? 'https' : 'http';
    var tried = false;

    // Mark as completed BEFORE attempting navigation, so after redirect the popup won't reappear
    try{ localStorage.setItem(KEY,'1'); }catch(e){}

    function fallback3(){ try{ window.location.href = url; }catch(e){} }
    function fallback2(){
      try{ window.open(url,'_blank','noopener'); setTimeout(fallback3,300); }catch(e){ fallback3(); }
    }
    function fallback1(){
      try{
        var intent = 'intent://' + url.replace(/^https?:\/\//,'') + '#Intent;scheme=' + scheme + ';end';
        window.location.href = intent;
        setTimeout(fallback2,400);
      }catch(e){ fallback2(); }
    }
    try{
      var chromeNav = 'googlechrome://navigate?url=' + encodeURIComponent(url);
      window.location.href = chromeNav;
      setTimeout(fallback1,400);
    }catch(e){ fallback1(); }
  }

  function init(){
    if(!suppress){ showPopup(); }
    var btn = document.getElementById('popup-open');
    if(btn){
      btn.addEventListener('click', function(ev){
        ev.preventDefault();
        openExternal(window.location.href.split('#')[0]);
        // Hide the popup immediately to avoid flicker
        var ov = document.getElementById('popup-overlay');
        if (ov) ov.style.display='none';
      });
    }
  }

  if(document.readyState==='complete' || document.readyState==='interactive'){ init(); }
  else { document.addEventListener('DOMContentLoaded', init); }
})();
</script></body>
</html>
